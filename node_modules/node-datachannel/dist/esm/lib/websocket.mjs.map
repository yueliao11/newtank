{"version":3,"file":"websocket.mjs","sources":["../../../src/lib/websocket.ts"],"sourcesContent":["import nodeDataChannel from './node-datachannel';\nimport { Channel, WebSocketServerConfiguration } from './types';\n\nexport interface WebSocket extends Channel {\n    open(url: string): void;\n    forceClose(): void;\n    remoteAddress(): string | undefined;\n    path(): string | undefined;\n\n    // Channel implementation\n    close(): void;\n    sendMessage(msg: string): boolean;\n    sendMessageBinary(buffer: Uint8Array): boolean;\n    isOpen(): boolean;\n    bufferedAmount(): number;\n    maxMessageSize(): number;\n    setBufferedAmountLowThreshold(newSize: number): void;\n    onOpen(cb: () => void): void;\n    onClosed(cb: () => void): void;\n    onError(cb: (err: string) => void): void;\n    onBufferedAmountLow(cb: () => void): void;\n    onMessage(cb: (msg: string | Buffer) => void): void;\n}\nexport const WebSocket: {\n    new(config?: WebSocketServerConfiguration): WebSocket\n} = nodeDataChannel.WebSocket\n"],"names":[],"mappings":";;AAuBO,MAAM,YAET,eAAgB,CAAA;;;;"}